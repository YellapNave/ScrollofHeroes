<app-signin></app-signin>
<div *ngIf="authService.user$ | async" class="container">
	<div id="standard-settings-block">
		<div class="row">
			<div class="col-md-12">
				<h2>Settings</h2>
			</div>
		</div>
		<div *ngIf="campaign; else loading" class="row justify-content-end">
			<div class="col-md-6">
				<h3>Campaign:</h3>
			</div>
			<div class="col-md-5">
				<select name="campaign" 
					[(ngModel)]="campaign"
					(ngModelChange)="updateSettings('campaign')">
					<option *ngFor="let cam of settings.campaignList" 
						[ngValue]="cam"
						[selected]="cam.key == campaign.key">
							{{ cam.title }}
					</option>
				</select>
			</div>
		</div>
	</div>
	<div id="admin-settings-block" *ngIf="adminSettings">
		<div class="row">
			<div class="col-md-12">
				<h2>Admin Settings</h2>
			</div>
		</div>
		<div class="row justify-content-end">
			<div class="col-md-6">
				<h3>Messages:</h3>
			</div>
			<div class="col-md-5">
				<select name="messages" 
					[(ngModel)]="showMessages"
					(ngModelChange)="updateSettings('showMessages')">
					<option [ngValue]="true"
						[selected]="showMessages == true">
						Show
					</option>
					<option [ngValue]="false" 
						[selected]="showMessages == false">
						Hide
					</option>
				</select>
			</div>
		</div>
	</div>
</div>
<ng-template #loading>
	<h3>Loading...</h3>
</ng-template>